<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/form-elements/rotary-input/index.html.literal" -->

<html lang="en">
<head>

<script title="debug">
    window.DEBUG = true;
</script>

<title>rotary-input</title>

<meta charset="utf-8" />
<meta name="author" content="Stephen Band" />
<meta name="description" content="A rotating knob input that can be dragged vertically, with scaling, step, ticks, units and formatted output display." />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="rotary-input" />
<meta property="og:description" content="A rotating knob input that can be dragged vertically, with scaling, step, ticks, units and formatted output display." />
<meta property="og:image" content="https://stephen.band/form-elements/rotary-input/images/card.png" />
<meta property="og:url" content="https://stephen.band/form-elements/" />




<script type="importmap"></script>

<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>

<!--script type="importmap">{
    "imports": {
        "dom/":  "https://cdn.jsdelivr.net/gh/stephband/dom@master/modules/",
        "fn/":   "https://cdn.jsdelivr.net/gh/stephband/fn@master/modules/",
        "bolt/": "https://cdn.jsdelivr.net/gh/stephband/bolt-2@main/"
    }
}</script-->

<script type="importmap">{
    "imports": {
        "dom/":  "../../dom/modules/",
        "fn/":   "../../fn/modules/",
        "bolt/": "../../bolt/"
    }
}</script>

<script type="module">
    import '../../literal/literal-html/element.js';
</script>


<link rel="stylesheet" href="../../literal/documentation/build/module.css">
    <script title="element">
        window.rotaryInputStylesheet = './element-shadow.css';
    </script>

    <style>
        rotary-input {
            width: 12.5vw;
            min-width: 6.875rem;
            max-width: 10rem;
        }

        rotary-input + rotary-input {
            margin-left: var(--x-gap);
        }
    </style>
</head>

<body class="4x-grid @1-6x-grid @2-7x-grid @3-9x-grid grid">




<div class="x1 4x @1-6x @2-x2 x-stretch y-start documentation-block block">
    <h1 id="rotary-input"><span class="tag-brace">&lt;</span>rotary-input<span class="tag-brace">&gt;</span></h1>
    <p>A rotating knob form input with scaling, ticks, units and formatted output
display.</p>
<rotary-input name="pan" min="-1" max="1" ticks="-1 -0.8 -0.6 -0.4 -0.2 0 0.2 0.4 0.6 0.8 1">
    Pan
</rotary-input>

<rotary-input name="gain" min="0" max="2" ticks="-∞dB -48dB -42dB -36dB -30dB -24dB -18dB -12dB -6dB 0dB 6dB" law="log-48dB" display="dB" value="-6dB">
    Volume
</rotary-input>

<rotary-input name="frequency" min="20Hz" max="20kHz" ticks="25Hz 50Hz 100Hz 250Hz 500Hz 1kHz 2.5kHz 5kHz 10kHz 20kHz" law="log" display="Hz" value="1000">
    Frequency
</rotary-input>
</div>

<div class="x1 4x @2-x2 x-stretch y-start documentation-block block">
<h2 id="import">Import</h2>
<p>Import and register the <code>&lt;rotary-input&gt;</code> custom element, upgrading any
instances already in the DOM:</p>
<pre><code class="language-js"><span class="token keyword">import</span> RotaryInput <span class="token keyword">from</span> <span class="token string">'../../literal/documentation/templates/rotary-input.js'</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="use">Use</h2>
<p>You can now author rotating knob inputs:</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rotary-input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>pan<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">ticks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1 -0.8 -0.6 -0.4 -0.2 0 0.2 0.4 0.6 0.8 1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Pan<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rotary-input</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rotary-input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>gain<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">ticks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-∞dB -48dB -42dB -36dB -30dB -24dB -18dB -12dB -6dB 0dB 6dB<span class="token punctuation">"</span></span> <span class="token attr-name">law</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log-48dB<span class="token punctuation">"</span></span> <span class="token attr-name">display</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dB<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-6dB<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Volume<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rotary-input</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rotary-input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>frequency<span class="token punctuation">"</span></span> <span class="token attr-name">min</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20000<span class="token punctuation">"</span></span> <span class="token attr-name">ticks</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20Hz 30Hz 50Hz 100Hz 200Hz 300Hz 500Hz 1kHz 2kHz 3kHz 5kHz 10kHz 20kHz<span class="token punctuation">"</span></span> <span class="token attr-name">law</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>log<span class="token punctuation">"</span></span> <span class="token attr-name">display</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hz<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Frequency<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rotary-input</span><span class="token punctuation">></span></span>
</code></pre>

</div>


<div class="x1 4x @1-3x @2-x2 x-stretch y-start">

    <h3>Attributes</h3>


<details class="attribute-details" id="attribute-value-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">value</code>
    </summary>

    <p>The initial value of the input.</p>

</details>



<details class="attribute-details" id="attribute-wrap">
    <summary class="attribute-text text-05">
        <code class="token language-html">wrap</code>
    </summary>

    <p>Boolean attribute indicating whether rotation is continuous and value
‘wraps’ around.</p>

</details>



<details class="attribute-details" id="attribute-min-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">min <span class="default-text">="<em>0</em>"</span></code>
    </summary>

    <p>Value at lower limit of fader. Will interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</details>



<details class="attribute-details" id="attribute-max-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">max <span class="default-text">="<em>1</em>"</span></code>
    </summary>

    <p>Value at upper limit of fader. Will interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</details>



<details class="attribute-details" id="attribute-law-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">law <span class="default-text">="<em>linear</em>"</span></code>
    </summary>

    <p>Fader law. This is the name of a transform to be applied over the range
of the fader travel. Possible values are:</p>
<ul>
<li><code>&quot;linear&quot;</code></li>
<li><code>&quot;quadratic&quot;</code></li>
<li><code>&quot;cubic&quot;</code></li>
<li><code>&quot;log&quot;</code></li>
<li><code>&quot;log-24dB&quot;</code></li>
<li><code>&quot;log-48dB&quot;</code></li>
<li><code>&quot;log-60dB&quot;</code></li>
<li><code>&quot;log-72dB&quot;</code></li>
<li><code>&quot;log-96dB&quot;</code></li>
</ul>

</details>



<details class="attribute-details" id="attribute-ticks-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">ticks</code>
    </summary>

    <p>A space or comma separated list of values at which to display tick marks.
Values may be listed with or without units, eg:</p>
<pre><code class="language-html">ticks=&quot;0 0.2 0.4 0.6 0.8 1&quot;
ticks=&quot;-∞dB -48dB -36dB -24dB -12dB 0dB&quot;
</code></pre>
<p>Note that the unicode <code>∞</code> infinity character is interpreted as <code>Infinity</code>
(after unit conversion <code>-∞dB</code> is <code>0</code> and <code>0dB</code> is 1).</p>
<p>Ticks may optionally be given labels, displayed in lieu of the tick value.
Labels are written in square brackets following the tick value:</p>
<pre><code class="language-html">ticks=&quot;0 [None] 0.5 [Half] 1 [Full]&quot;
</code></pre>

</details>



<details class="attribute-details" id="attribute-display-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">display</code>
    </summary>

    <p>The units to display the value in. The output value and all ticks are
displayed in this unit. Possible values are:</p>
<ul>
<li><code>&quot;dB&quot;</code> – <code>0-1</code> is displayed as <code>-∞dB</code> to <code>0dB</code></li>
<li><code>&quot;Hz&quot;</code> - frequency in <code>Hz</code> and <code>kHz</code></li>
<li><code>&quot;bpm&quot;</code> - displays rates in Hz as bpm</li>
<li><code>&quot;s&quot;</code> - time in <code>ms</code> and <code>s</code></li>
<li><code>&quot;semitone&quot;</code> - without units</li>
<li><code>&quot;hh:mm&quot;</code> – and other time formats including any of the tokens <code>YMwdhms</code></li>
</ul>
<p>Display formatters may be added by importing the formatters object:</p>
<pre><code class="language-js">RangeInput<span class="token punctuation">.</span>displayFormats<span class="token punctuation">[</span><span class="token string">'my-format'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">format<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Return an object of the form `{ value, unit }`</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>This format may now be used by declaring the display attribute:</p>
<pre><code class="language-html">display=&quot;my-format&quot;
</code></pre>

</details>



<details class="attribute-details" id="attribute-step-2">
    <summary class="attribute-text text-05">
        <code class="token language-html">step</code>
    </summary>

    <p>Step is either:</p>
<ul>
<li><code>&quot;any&quot;</code>, the default value</li>
<li><code>&quot;ticks&quot;</code>, the values in the <code>ticks</code> attribute are used as step values</li>
<li>A space or comma separated list of values, with or without units</li>
</ul>

</details>




    <h3>Properties</h3>


<details class="property-details" id="property|selector-value-2">
    <summary class="property-text text-05">
        <code class="property language-js">.value</code>
    </summary>

    <p>Current value of the input.</p>

</details>



<details class="property-details" id="property|selector-wrap">
    <summary class="property-text text-05">
        <code class="property language-js">.wrap</code>
    </summary>

    <p>Boolean indicating whether rotation is continuous and value ‘wraps’ around.</p>

</details>



<details class="property-details" id="property-type-2">
    <summary class="property-text text-05">
        <code class="property language-js">.type</code>
    </summary>

    <p>“number”
A readonly property with the value <code>&quot;number&quot;</code> (provided for consistency
with native form elements, which all have a type).</p>

</details>



<details class="property-details" id="property|selector-min-2">
    <summary class="property-text text-05">
        <code class="property language-js">.min</code>
    </summary>

    <p>Value at lower limit of fader. Will interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</details>



<details class="property-details" id="property|selector-max-2">
    <summary class="property-text text-05">
        <code class="property language-js">.max</code>
    </summary>

    <p>Value at upper limit of fader. Will interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</details>








    <h3>Events</h3>


<details class="string-details" id="string-input-1">
    <summary class="string-text text-05">
        <code class=" language-js">"input"</code>
    </summary>

    <p>Emitted from the element during the movement of a handle.</p>

</details>



<details class="string-details" id="string-change-1">
    <summary class="string-text text-05">
        <code class=" language-js">"change"</code>
    </summary>

    <p>Emitted from the element when a handle has been moved.</p>

</details>


</div>

<div class="x1 4x @1-x4 @1-3x @2-x5 x-stretch y-start">

    <h3>Parts</h3>

<details class="part-details" id="part-tick-2">
    <summary class="part-text text-05">
        <code class=" language-css">::part(tick)</code>
    </summary>

    <p>Style the tick marks.</p>

</details>



<details class="part-details" id="part-output-2">
    <summary class="part-text text-05">
        <code class=" language-css">::part(output)</code>
    </summary>

    <p>Style the display of the output value.</p>

</details>




    <h3>Variables</h3>


<details class="var-details" id="var-value-color-1">
    <summary class="var-text text-05">
        <code class=" language-css">--value-color</code>
    </summary>


</details>



<details class="var-details" id="var-value-color-start-1">
    <summary class="var-text text-05">
        <code class=" language-css">--value-color-start</code>
    </summary>


</details>



<details class="var-details" id="var-value-color-end-1">
    <summary class="var-text text-05">
        <code class=" language-css">--value-color-end</code>
    </summary>


</details>



<details class="var-details" id="var-handle-color-1">
    <summary class="var-text text-05">
        <code class=" language-css">--handle-color</code>
    </summary>


</details>



<details class="var-details" id="var-handle-background-1">
    <summary class="var-text text-05">
        <code class=" language-css">--handle-background</code>
    </summary>


</details>



<details class="var-details" id="var-handle-border-1">
    <summary class="var-text text-05">
        <code class=" language-css">--handle-border</code>
    </summary>


</details>



<details class="var-details" id="var-output-color-1">
    <summary class="var-text text-05">
        <code class=" language-css">--output-color</code>
    </summary>


</details>



<details class="var-details" id="var-track-background-1">
    <summary class="var-text text-05">
        <code class=" language-css">--track-background</code>
    </summary>


</details>



<details class="var-details" id="var-track-padding-1">
    <summary class="var-text text-05">
        <code class=" language-css">--track-padding</code>
    </summary>

    <p>Make the range input slightly wider than the control to allow range thumb
to line up with label text.</p>

</details>



<details class="var-details" id="var-handle-size">
    <summary class="var-text text-05">
        <code class=" language-css">--handle-size</code>
    </summary>


</details>



<details class="var-details" id="var-handle-shadow">
    <summary class="var-text text-05">
        <code class=" language-css">--handle-shadow</code>
    </summary>


</details>



<details class="var-details" id="var-track-width">
    <summary class="var-text text-05">
        <code class=" language-css">--track-width</code>
    </summary>


</details>



<details class="var-details" id="var-track-shadow">
    <summary class="var-text text-05">
        <code class=" language-css">--track-shadow</code>
    </summary>


</details>



<details class="var-details" id="var-rotation-start">
    <summary class="var-text text-05">
        <code class=" language-css">--rotation-start</code>
    </summary>

    <p>Angle (clockwise from south) at which to start rotational travel.</p>

</details>



<details class="var-details" id="var-rotation-range">
    <summary class="var-text text-05">
        <code class=" language-css">--rotation-range</code>
    </summary>

    <p>Angle (clockwise from south) through which handle travels.</p>

</details>



<details class="var-details" id="var-touch-range">
    <summary class="var-text text-05">
        <code class=" language-css">--touch-range</code>
    </summary>

    <p>Vertical distance of mouse or touch movement that results in one
full range of rotation of the handle. Cannot be specified as a <code>%</code> length,
other length units accepted..</p>

</details>






</div>




<section class="x1 4x @2-x2 x-stretch y-start">
    <h2>Contribute</h2>
    <p>
        Support development:
        <a aria-label="Sponsor @stephband" href="https://github.com/sponsors/stephband" class="githubsponsor-button button">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" class="fill octicon octicon-heart icon-sponsor mr-1 v-align-middle color-fg-sponsors anim-pulse-in">
                <path fill-rule="evenodd" d="M4.25 2.5c-1.336 0-2.75 1.164-2.75 3 0 2.15 1.58 4.144 3.365 5.682A20.565 20.565 0 008 13.393a20.561 20.561 0 003.135-2.211C12.92 9.644 14.5 7.65 14.5 5.5c0-1.836-1.414-3-2.75-3-1.373 0-2.609.986-3.029 2.456a.75.75 0 01-1.442 0C6.859 3.486 5.623 2.5 4.25 2.5zM8 14.25l-.345.666-.002-.001-.006-.003-.018-.01a7.643 7.643 0 01-.31-.17 22.075 22.075 0 01-3.434-2.414C2.045 10.731 0 8.35 0 5.5 0 2.836 2.086 1 4.25 1 5.797 1 7.153 1.802 8 3.02 8.847 1.802 10.203 1 11.75 1 13.914 1 16 2.836 16 5.5c0 2.85-2.045 5.231-3.885 6.818a22.08 22.08 0 01-3.744 2.584l-.018.01-.006.003h-.002L8 14.25zm0 0l.345.666a.752.752 0 01-.69 0L8 14.25z"></path>
            </svg>
            <span class="v-align-middle">Sponsor</span>
        </a>
    </p>
    <ul>
        <li>Contribute to the repo: <a href="https://github.com/stephband/form-elements"><code>github.com/stephband/form-elements</code></a></li>
        <li>Report a problem: <a href="https://github.com/stephband/form-elements/issues"><code>github.com/stephband/form-elements/issues</code></a></li>
    </ul>
</section>


<hr class="x1 4x @2-x2 x-stretch" style="margin-top: 4.2em;" />

<div class="x1 4x @2-x2 x-stretch y-start">
    <p class="text-10">
    Built by <a href="https://stephen.band/">Stephen Band</a> for
    <a href="https://cruncher.ch">Cruncher</a>.
    </p>

    <p class="text-10">
    Documentation set in <a href="https://www.swisstypefaces.com/fonts/euclid/">Euclid</a>
    and <a href="https://github.com/evilmartians/mono">Martian Mono</a>. Fonts
    used for documentation not included as part of the license covering the
    use of <code>rotary-input</code>.
    </p>
</div>


<footer class="x1 4x @1-6x @2-7x @3-9x 4x-grid @1-6x-grid @2-7x-grid @3-9x-grid grid grid footer">
    <div class="x1 4x @1-2x @2-x2 x-stretch y-start">
        <h3>Elements</h3>
        <a class="block" href="https://stephen.band/literal/literal-html/"><code>&lt;template is="literal-html"&gt;</code></a>
        <a class="block" href="https://stephen.band/slide-show/"><code>&lt;slide-show&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/rotary-input/"><code>&lt;rotary-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/range-input/"><code>&lt;range-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/y-input/"><code>&lt;y-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/xy-input/"><code>&lt;xy-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/normal-input/"><code>&lt;normal-input&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/number-control/"><code>&lt;number-control&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/select-control/"><code>&lt;select-control&gt;</code></a>
        <a class="block" href="https://stephen.band/form-elements/menu-select/"><code>&lt;select is="menu-select"&gt;</code></a>
    </div>

    <div class="x1 4x @1-2x @1-x3 @2-x4 x-stretch y-start">
        <h3>Tools</h3>
        <a class="block" href="https://stephen.band/font-size/">Font-size calculator</a>
        <a class="block" href="https://stephen.band/harmony-circle/">Harmonic circle</a>
    </div>
</footer>

    <script type="module" src="https://stephen.band/literal/documentation/build/module.js"></script>


    <script type="module">
    import RotaryInput from './element.js';
    import events      from 'dom/events.js';

    // Test
    events('input change', document)
    .each((e) => console.log(e.type, e.target.value));
    </script>
</body>
