/* form-elements 
   0.0.4
   By Stephen Band
   Built 2022-06-17 21:56 */

function H(t){return t}function g(t,e){return function(){let r=t.apply(this,arguments),i=e[r]||e.default;if(!i)throw new Error('overload() no handler for "'+r+'"');return i.apply(this,arguments)}}function _(t){var e=new Map;return function(r){if(e.has(r))return e.get(r);var i=t(r);return e.set(r,i),i}}var Et=Array.prototype;function xt(t,e){return typeof t=="function"?t.apply(null,e):t}function $(t,e,o){o=o||t.length;var r=o===1?e?t:_(t):_(function(i){return $(function(){var u=[i];return u.push.apply(u,arguments),t.apply(null,u)},e,o-1)});return function i(u){return arguments.length===0?i:arguments.length===1?r(u):arguments.length>=o?t.apply(null,arguments):xt(r(u),Et.slice.call(arguments,1))}}var d=$;function E(){}var Tt=g(H,{is:E,tag:E,html:function(t,e,o){e.innerHTML=o},text:function(t,e,o){e.textContent=o},children:function(t,e,o){e.innerHTML="",e.append.apply(e,o)},points:A,cx:A,cy:A,r:A,preserveAspectRatio:A,viewBox:A,default:function(t,e,o){t in e?e[t]=o:e.setAttribute(t,o)}});function A(t,e,o){e.setAttribute(t,o)}function Lt(t,e){for(var o=Object.keys(e),r=o.length;r--;)Tt(o[r],t,e[o[r]]);return t}var C=d(Lt,!0);var B="http://www.w3.org/2000/svg",z=document.createElement("div"),G=(t,e)=>e&&typeof e;function q(t,e){let o=document.createRange();return o.selectNode(t),o.createContextualFragment(e)}var f=g(G,{string:function(t,e){let o=document.createElementNS(B,t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElementNS(B,t);return typeof e.length=="number"?o.append.apply(o,e):C(o,e),o},default:t=>document.createElementNS(B,t)}),Mt=g(G,{string:function(t,e){let o=document.createElement(t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElement(t);return typeof e.length=="number"?o.append.apply(o,e):C(o,e),o},default:t=>document.createElement(t)}),St=g(H,{comment:function(t,e){return document.createComment(e||"")},fragment:g(G,{string:function(t,e,o){if(o)return q(o,e);let r=document.createDocumentFragment();z.innerHTML=e;let i=z.childNodes;for(;i[0];)r.appendChild(i[0]);return r},object:function(t,e,o){let r=o?q(o):document.createDocumentFragment();return typeof e.length=="number"?r.append.apply(r,e):C(r,e),r},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:f,ellipse:f,g:f,glyph:f,image:f,line:f,rect:f,use:f,path:f,pattern:f,polygon:f,polyline:f,svg:f,default:Mt}),x=St;function R(t,e,o){let r;typeof o!="string"&&o.input!==void 0&&o.index!==void 0&&(r=o,o=r.input.slice(o.index+o[0].length+(o.consumed||0)));let i=t.exec(o);if(!i)return;let u=e(i);return r&&(r.consumed=(r.consumed||0)+i.index+i[0].length+(i.consumed||0)),u}var me=d(R,!0);function At(t,e,o){throw o.input!==void 0&&o.index!==void 0&&(o=o.input),new Error('Cannot parse string "'+(o.length>128?o.length.slice(0,128)+"…":o)+'"')}function Ft(t,e,o){let r=-1;for(;++r<o.length;)e=o[r]!==void 0&&t[r]?t[r](e,o):e;return t.done?t.done(e,o):t.close?t.close(e,o):e}function Ht(t,e,o,r){let i=R(t,u=>Ft(e,o,u),r);return i===void 0?e.catch?e.catch(o,r):At(t,e,r):i}var Q=d(Ht,!0);var U=E;var h=Symbol("internals"),L=Symbol("shadow"),J=Object.defineProperties,kt={a:HTMLAnchorElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},Pt={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[h].form}},labels:{get:function(){return this[h].labels}},validity:{get:function(){return this[h].validity}},validationMessage:{get:function(){return this[h].validationMessage}},willValidate:{get:function(){return this[h].willValidate}},checkValidity:{value:function(){return this[h].checkValidity()}},reportValidity:{value:function(){return this[h].reportValidity()}}},_t={},W={once:!0},Ct=0,X=!1;function Dt(t){return kt[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var Ot=Q(/^\s*<?([a-z][\w]*-[\w]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is=["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function Bt(t,e){if(t.hasOwnProperty(e)){let o=t[e];delete t[e],t[e]=o}return t}function Gt(t,e,o){t._initialLoad=!0;let r=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(o){let i=x("link",{rel:"stylesheet",href:o});r.append(i)}return t[L]=r,r}function Rt(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=x("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(o){this.input.value=o},e}function Ut(t){t._initialAttributes={},t._n=0}function It(t,e,o){let r=t._initialAttributes;for(;t._n<e.length&&r[e[t._n]]!==void 0;)o[e[t._n]].call(t,r[e[t._n]]),++t._n}function Y(t,e,o){if(!t._initialAttributes)return;let r=t._initialAttributes;for(;t._n<e.length;)r[e[t._n]]!==void 0&&o[e[t._n]]&&o[e[t._n]].call(t,r[e[t._n]]),++t._n;delete t._initialAttributes,delete t._n}function Nt(t){return!!t.attribute}function Vt(t){return t.set||t.get||t.hasOwnProperty("value")}function Z(t,e){return Nt(e[1])&&(t.attributes[e[0]]=e[1].attribute),Vt(e[1])&&(t.properties[e[0]]=e[1]),t}function I(t,e,o,r){let{name:i,tag:u}=Ot(t),v=typeof u=="string"?Dt(u):HTMLElement,{attributes:w,properties:l}=o?Object.entries(o).reduce(Z,{attributes:{},properties:{}}):e.properties?Object.entries(e.properties).reduce(Z,{attributes:{},properties:{}}):_t;function a(){let s=Reflect.construct(v,arguments,a),c=e.construct&&e.construct.length>Ct?Gt(s,e,r||e.stylesheet):void 0,p=a.formAssociated&&Rt(s);return u&&(X=!0),e.construct&&e.construct.call(s,c,p),w&&(Ut(s),Promise.resolve(1).then(function(){Y(s,a.observedAttributes,w)})),l&&Object.keys(l).reduce(Bt,s),s}return a.prototype=Object.create(v.prototype,l),l&&l.value&&(a.formAssociated=!0,J(a.prototype,Pt),(e.enable||e.disable)&&(a.prototype.formDisabledCallback=function(s){return s?e.disable&&e.disable.call(this,this[L],this[h]):e.enable&&e.enable.call(this,this[L],this[h])}),e.reset&&(a.prototype.formResetCallback=function(){return e.reset.call(this,this[L],this[h])}),e.restore&&(a.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[L],this[h])})),w&&(a.observedAttributes=Object.keys(w),a.prototype.attributeChangedCallback=function(s,c,p){if(!this._initialAttributes)return w[s].call(this,p);this._initialAttributes[s]=p,It(this,a.observedAttributes,w)}),a.prototype.connectedCallback=function(){let s=this,c=s[L],p=s[h];if(s._initialAttributes&&Y(s,a.observedAttributes,w),s._initialLoad){let b=c.querySelectorAll('link[rel="stylesheet"]');if(b.length){let wt=0,O=b.length,K=function(yt){++wt>=b.length&&(delete s._initialLoad,e.load&&(U("element()","loaded",Array.from(b).map(vt=>vt.href).join(`
`)),e.load.call(s,c)))},gt=K;for(;O--;)b[O].addEventListener("load",K,W),b[O].addEventListener("error",gt,W);e.connect&&e.connect.call(this,c,p)}else e.connect&&e.connect.call(this,c,p),e.load&&e.load.call(this,c,p)}else e.connect&&e.connect.call(this,c,p)},e.disconnect&&(a.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[L],this[h])}),U("element()","<"+(u?u+" is="+i:i)+">"),window.customElements.define(i,a,u&&{extends:u}),u&&!X&&document.querySelectorAll('[is="'+i+'"]').forEach(s=>{o&&J(s,o),e.construct&&e.construct.apply(s);let c;for(c in w){let p=s.attributes[c];p&&w[c].call(s,p.value)}e.connect&&e.connect.apply(s)}),a}var N=Symbol("privates");function M(t){return t[N]||Object.defineProperty(t,N,{value:{}})[N]}function F(t,e,o){return o>e?e:o<t?t:o}var Fe=d(F);function jt(t,e){return e[t]}var tt=d(jt,!0);function et(t,e){t.remove&&t.remove(e);let o;for(;(o=t.indexOf(e))!==-1;)t.splice(o,1);return e}var Ce=d(et,!0);function V(t){return t&&t[Symbol.iterator]}var Kt=Object.assign;function $t(t){return t.stop?t.stop():t()}function k(){}Kt(k.prototype,{stop:function(){let t=this.stopables;return this.stopables=void 0,t&&t.forEach($t),this},done:function(t){return(this.stopables||(this.stopables=[])).push(t),this}});var y=Object.assign,T=Object.create;function nt(t,e){t[0]=e,e.done(t)}function S(t,e){t&&t.push(e)}function j(t){k.prototype.stop.apply(t);let e=-1,o;for(;o=t[++e];)t[e]=void 0,o.stop()}function m(t){this.input=t}y(m.prototype,k.prototype,{push:function(t){S(this[0],t)},pipe:function(t){if(this[0])throw new Error("Stream: Attempt to .pipe() a unicast stream multiple times. Create a multicast stream with stream.broadcast().");return this[0]=t,t.done(this),this.input.pipe(this),t},map:function(t){return new ot(this,t)},filter:function(t){return new rt(this,t)},split:function(t){return new st(this,t)},flatMap:function(t){return new it(this,t)},take:function(t){return new ut(this,t)},each:function(t){return this.pipe(new lt(t))},reduce:function(t,e){return this.pipe(new at(t,e)).value},scan:function(t,e){return new ct(this,t,e)},stop:function(){return j(this),this}});function ot(t,e){this.input=t,this.fn=e}ot.prototype=y(T(m.prototype),{push:function(e){let r=this.fn(e);r!==void 0&&S(this[0],r)}});function rt(t,e){this.input=t,this.fn=e}rt.prototype=y(T(m.prototype),{push:function(e){this.fn(e)&&S(this[0],e)}});function it(t,e){this.input=t,this.fn=e}it.prototype=y(T(m.prototype),{push:function(e){let r=this.fn(e);if(r!==void 0)if(V(r))for(let i of r)S(this[0],i);else throw new Error("Stream: Cannot .flatMap() non-iterable values")}});function st(t,e){this.input=t,this.chunk=[],typeof n=="number"?this.n=e:this.fn=e}st.prototype=y(T(m.prototype),{fn:function(){return this.chunk.length===this.n},push:function(e){let o=this.chunk;this.fn(e)?(S(this[0],o),this.chunk=[]):o.push(e)}});function ut(t,e){this.input=t,this.count=e}ut.prototype=y(T(m.prototype),{push:function(e){this[0].push(e),--this.count||this.stop()}});var zt=0;function at(t,e){this.fn=t,this.value=e,this.i=0,this.n=++zt}at.prototype=y(T(m.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t,this.i++,this)}});function ct(t,e,o){this.input=t,this.fn=e,this.value=o}ct.prototype=y(T(m.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t),this[0].push(this.value)}});function lt(t){this.push=t}lt.prototype=y(T(m.prototype),{each:null,reduce:null,pipe:null});var qt=Object.assign,Qt=/\s+/,pt={fullscreenchange:"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"fullscreenchange"};var ft=0;window.addEventListener("click",t=>ft=t.timeStamp);function Jt(t,e){return t.node.addEventListener(pt[e]||e,t,t.options),t}function Wt(t,e){return t.node.removeEventListener(pt[e]||e,t),t}function ht(t,e,o){this.types=t.split(Qt),this.options=e,this.node=o,this.select=e&&e.select}qt(ht.prototype,{pipe:function(t){nt(this,t),this.types.reduce(Jt,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=ft)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}S(this[0],t)}},stop:function(){this.types.reduce(Wt,this),j(this[0])}});function P(t,e){let o;return typeof t=="object"&&(o=t,t=o.type),new m(new ht(t,o,e))}var Xt=g(tt("keyCode"),{38:(t,e,o,r,i)=>{t.preventDefault();let u=r?t.shiftKey?5*r:r:t.shiftKey?.05*(o-e):.01*(o-e);return F(e,o,i+u)},40:(t,e,o,r,i)=>{t.preventDefault();let u=r?t.shiftKey?-5*r:-1*r:t.shiftKey?-.05*(o-e):-.01*(o-e);return F(e,o,i+u)},default:E}),dt={mode:"closed",focusable:!0,construct:function(t,e){let o=x("style",":host > * { visibility: hidden; }"),r=x("input",{type:"number",part:"input",name:"value",min:"0",max:"1",step:"any",value:0}),i=x("button",{type:"button",part:"decrement-button",name:"decrement",value:"-1",html:'<slot name="decrement-button">-</slot>'}),u=x("button",{type:"button",part:"increment-button",name:"increment",value:"1",html:'<slot name="increment-button">+</slot>'});t.append(o,r,i,u);let v=M(this),w=o.sheet.cssRules[0].style;v.host=this,v.shadow=t,v.childStyle=w,v.internals=e,v.input=r,P({type:"pointerdown",select:'[type="button"]'},t).each(l=>{let a=parseFloat(r.value||0),s=parseFloat(l.selectedTarget.value),c=parseFloat(r.min),p=parseFloat(r.max),b=parseFloat(r.step);r.value=F(c,p,a+(b?s*b:s)),l.preventDefault(),this.focus()}),P({type:"input",select:'[type="number"]'},t).each(l=>{let a=parseFloat(r.value||0),s=parseFloat(r.min),c=parseFloat(r.max);(a<s||a>c)&&(r.value=F(s,c,a))}),P("keydown",this).filter(()=>document.activeElement===this||this.contains(document.activeElement)).map(l=>Xt(l,parseFloat(r.min),parseFloat(r.max),parseFloat(r.step),parseFloat(r.value))).each(l=>r.value=Math.abs(l)<.1?l.toPrecision(1):Math.abs(l)<10?l.toPrecision(2):Math.round(l))},load:function(t){let e=M(this);e.childStyle.visibility=""}};function D(t){return{attribute:function(e){this[t]=e},set:function(e){M(this).input[t]=e},get:function(){return parseFloat(M(this).input[t])},enumerable:!0}}var mt={type:{value:"number",enumerable:!0},min:D("min"),max:D("max"),step:D("step"),value:D("value")};var Yt=window.numberInputStylesheet||import.meta.url.replace(/\/[^\/]*([?#].*)?$/,"/")+"number-input-shadow.css",nn=I("<number-input>",dt,mt,Yt);export{nn as default};
