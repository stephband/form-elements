<head>
    <meta charset="utf-8" />
    <meta name="author" content="@stephband" />
    <meta name="description" content="TODO" />
    <meta name="viewport" content="width=device-width" />

    <script>
        window.DEBUG = { literal: false, MIDI: false };
    </script>

    <script type="importmap">{
        "imports": {
            "bolt/":       "../../../bolt/",
            "dom/":        "../../../dom/modules/",
            "fn/":         "../../../fn/modules/",
            "forms/":      "../../../form-elements/"
        }
    }</script>

    <link rel="stylesheet" href="../../../bolt/elements/html.css" />
    <link rel="stylesheet" href="../../../bolt/elements/table.css" />
    <link rel="stylesheet" href="../../../bolt/elements/label.css" />
    <link rel="stylesheet" href="../../../bolt/elements/form.css" />
    <link rel="stylesheet" href="../../../bolt/elements/svg.css" />
    <link rel="stylesheet" href="../../../bolt/classes/block.css" />
    <link rel="stylesheet" href="../../../bolt/classes/button.css" />
    <link rel="stylesheet" href="../../../bolt/classes/menu.css" />

    <style>
        html {
            background-color: white;
        }

        body {
            --header-size: 2.8125rem;
            --footer-size: 2.8125rem;
            padding-top: var(--header-size);
        }

        select[is="menu-select"] {
            font-family: inherit;
            font-size: inherit;
            background-color: transparent;
            border-width: 0;
            border-radius: 0;
        }

        option[value="1"] {

        }
    </style>

    <script type="module">
    </script>
</head>

<body>
    <script type="module">
    import './element.js';
    import events from 'dom/events.js';

    const assign = Object.assign;
    const menu = document.getElementById('menu');

    assign(menu.actions, {
        1: (option) => {
            console.log(1, option);
        },

        2: (option) => {
            console.log(2, option);
        },

        error: (option) => {
            throw new Error('test error');
        }
    });

    events('input change', menu).each((e) => {
        console.log(e.type, e.target.value);
    });
    </script>

    <select is="menu-select" id="menu">
        <option value selected disabled>Menu</option>
        <hr/>
        <option value="1">One</option>
        <option value="2">Two</option>
        <option value="error">Throws an error</option>
        <option value="no-action">No existing action</option>
        <hr/>
        <option disabled>Disabled</option>
        <hr/>
        <optgroup label="Optgroup">
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="error">Throws an error</option>
            <option value="no-action">No existing action</option>
        </optgroup>
    </select>
</body>
