/*  */

function A(e){var t=new Map;return function(o){if(t.has(o))return t.get(o);var r=e(o);return t.set(o,r),r}}var Ht=Array.prototype;function zt(e,t){return typeof e=="function"?e.apply(null,t):e}function pt(e,t,i){i=i||e.length;var o=i===1?t?e:A(e):A(function(r){return pt(function(){var s=[r];return s.push.apply(s,arguments),e.apply(null,s)},t,i-1)});return function r(s){return arguments.length===0?r:arguments.length===1?o(s):arguments.length>=i?e.apply(null,arguments):zt(o(s),Ht.slice.call(arguments,1))}}var w=pt;function Vt(e,t){return t[e]}var dt=w(Vt,!0);function f(){}function h(e,t){return function(){let o=e.apply(this,arguments),r=t[o]||t.default;if(!r)throw new Error('overload() no function defined for key "'+o+'"');return r.apply(this,arguments)}}function F(e){return e}var Jt=h(F,{is:f,tag:f,data:function(e,t,i){for(e in i)i[e]===void 0&&delete i[e];Object.assign(t.dataset,i)},dataset:function(e,t,i){Object.assign(t.dataset,i)},html:function(e,t,i){t.innerHTML=i},text:function(e,t,i){t.textContent=i},style:h((e,t,i)=>typeof i,{string:(e,t,i)=>t.style=i,object:(e,t,i)=>Object.assign(t.style,i)}),children:function(e,t,i){t.innerHTML="",t.append.apply(t,i)},points:S,cx:S,cy:S,r:S,x:S,y:S,dx:S,dy:S,transform:S,preserveAspectRatio:S,viewBox:S,default:function(e,t,i){e in t?t[e]=i:t.setAttribute(e,i)}});function S(e,t,i){t.setAttribute(e,i)}function Wt(e,t){for(var i=Object.keys(t),o=i.length;o--;)Jt(i[o],e,t[i[o]]);return e}var R=w(Wt,!0);var Z="http://www.w3.org/2000/svg",mt=document.createElement("template"),K=(e,t)=>t&&typeof t;function gt(e,t=""){let i=document.createRange();return i.selectNode(e),i.createContextualFragment(t)}var g=h(K,{string:function(e,t){let i=document.createElementNS(Z,e);return i.innerHTML=t,i},object:function(e,t){let i=document.createElementNS(Z,e);return typeof t.length=="number"?i.append.apply(i,t):R(i,t),i},default:e=>document.createElementNS(Z,e)}),Zt=h(K,{string:function(e,t){let i=document.createElement(e);return i.innerHTML=t,i},object:function(e,t){let i=document.createElement(e);return typeof t.length=="number"?i.append.apply(i,t):R(i,t),i},default:e=>document.createElement(e)}),Kt=h(F,{comment:function(e,t){return document.createComment(t||"")},fragment:h(K,{string:function(e,t,i){return i?gt(i,t):(mt.innerHTML=t,mt.content.cloneNode(!0))},object:function(e,t,i){let o=i?gt(i):document.createDocumentFragment();return typeof t.length=="number"?o.append.apply(o,t):R(o,t),o},default:()=>document.createDocumentFragment()}),circle:g,ellipse:g,g,glyph:g,image:g,line:g,rect:g,use:g,path:g,pattern:g,polygon:g,polyline:g,svg:g,tspan:g,text:g,default:Zt}),D=Kt;function $(e){if(typeof e!="object"||arguments.length>1)throw new Error("delegate() now takes an object of selector:fn pairs.");return function(i){let o=i.target,r;for(r in e){let s=o.closest(r);if(s)return e[r](s,...arguments)}}}function Q(e){return e&&e[Symbol.iterator]}function X(e){return function(){return arguments[e]}}function k(){return this}var vt=Object.create,Qt=Object.freeze,U=Qt(vt(vt(Object.prototype,{at:{value:f},shift:{value:f},push:{value:f},forEach:{value:f},join:{value:function(){return""}},every:{value:function(){return!0}},filter:{value:k},find:{value:f},findIndex:{value:function(){return-1}},flat:{value:k},flatMap:{value:k},includes:{value:function(){return!1}},indexOf:{value:function(){return-1}},map:{value:k},reduce:{value:X(1)},sort:{value:k},each:{value:k},pipe:{value:F},start:{value:k},stop:{value:k},done:{value:k},valueOf:{value:function(){return null}}}),{length:{value:0}}));var wt=e=>typeof e;var E=Object.assign,B=Object.create,q=Symbol("done"),yt=h(wt,{function:e=>e(),object:e=>e.stop()});function N(e,t){return t.stop&&(t[-1]=e),e[0]=t}function Y(e,t){let i=-1,o;for(;e[++i]&&e[i]!==t;);for(t[-1]=void 0;e[i++];)e[i-1]=e[i];return t}function C(e){if(e.status==="done"||(e.status="done",e.pipe&&!e[0]))return e;let t=e[q];for(e[q]=void 0,t&&t.forEach(yt);e[0];)Array.isArray(e[0])?Y(e,e[0]):C(Y(e,e[0]));return e}var Xt={pipe:function(e){return N(this,e),this.fn(t=>v.prototype.push.call(this,t),()=>this.stop()),e},push:null,stop:function(){return this.status==="done"?this:C(this)}};function v(e){let t=typeof e;t==="object"?this[-1]=e:t==="function"&&(this.fn=e,E(this,Xt))}E(v,{broadcast:e=>new _(U,e),pipe:N,stop:C});E(v.prototype,{push:function(e){return this[0]&&this[0].push(e)},each:function(e){return this.pipe(new bt(this,e))},pipe:function(e){return N(this,e),this[-1].pipe(this),e},broadcast:function(e){return new _(this,e)},filter:function(e){return new xt(this,e)},flatMap:function(e){return new Et(this,e)},map:function(e){return new St(this,e)},reduce:function(e,t){return this.pipe(new kt(e,t)).value},scan:function(e,t){return new Ot(this,e,t)},slice:function(e,t){return new Bt(this,e,t)},split:function(e){return new jt(this,e)},start:function(){return this.status==="done"?this:(this[-1].start.apply(this[-1],arguments),this)},stop:function(){return this.status==="done"?this:this[-1][1]?(Y(this[-1],this),C(this)):(this[-1].stop.apply(this[-1],arguments),this)},done:function(e){return this.status==="done"?(yt(e),this):((this[q]||(this[q]=[])).push(e),this)},[Symbol.asyncIterator]:async function*(){let e=[],t=o=>e.push(o);function i(o,r){t=o}for(this.each(o=>t(o)).done(()=>t=f);t!==f;)yield e.length?e.shift():await new Promise(i)}});function _(e=U,t={}){this[-1]=e,this.memory=!!t.memory,t.hot&&this.pipe({push:f})}_.prototype=E(B(v.prototype),{push:function(e){if(e===void 0)return;this.memory&&(this.value=e);let t=-1;for(;this[++t];)this[t].push(e)},pipe:function(e){let t=-1;for(;this[++t];);return this.memory&&t===0&&this[-1].pipe(this),e.stop&&e!==U&&(e[-1]=this),this[t]=e,this.value!==void 0&&e.push(this.value),!this.memory&&t===0&&this[-1].pipe(this),e}});function bt(e,t){this[-1]=e,this.push=t}bt.prototype=E(B(v.prototype),{pipe:null});function xt(e,t){this[-1]=e,this.fn=t}xt.prototype=E(B(v.prototype),{push:function(t){let i=this.fn;i(t)&&this[0].push(t)}});function Et(e,t){this[-1]=e,this.fn=t}Et.prototype=E(B(v.prototype),{push:function(t){let i=this.fn,o=i(t);if(o!==void 0)if(Q(o))for(let r of o)this[0].push(r);else o.pipe?(console.warn("FlatMapping pipeables is dodgy. Map to arrays for the moment please."),this.done(o.each(r=>this[0].push(r)))):o.then&&o.then(r=>this[0].push(r))}});function St(e,t){this[-1]=e,this.fn=t}St.prototype=E(B(v.prototype),{push:function(t){let i=this.fn,o=i(t);return o===void 0||!this[0]?!1:this[0].push(o)}});function kt(e,t){this.fn=e,this.value=t,this.i=0}kt.prototype=E(B(v.prototype),{push:function(e){let t=this.fn;this.value=t(this.value,e,this.i++,this)}});function Ot(e,t,i){this[-1]=e,this.fn=t,this.value=i}Ot.prototype=E(B(v.prototype),{push:function(e){let t=this.fn;this.value=t(this.value,e),this[0].push(this.value)}});function Bt(e,t,i=1/0){this[-1]=e,this.index=-t,this.indexEnd=t+i}Bt.prototype=E(B(v.prototype),{push:function(t){++this.index>0&&this[0].push(t),this.index===this.indexEnd&&this.stop()}});function jt(e,t){this[-1]=e,this.chunk=[],typeof n=="number"?this.n=t:this.fn=t}jt.prototype=E(B(v.prototype),{fn:function(){return this.chunk.length===this.n},push:function(t){let i=this.chunk;this.fn(t)?(this[0].push(i),this.chunk=[]):i.push(t)}});var Yt=Object.assign,_t=/\s+/,H={fullscreenchange:A(()=>"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"mozFullScreenElement"in document?"mozfullscreenchange":"msFullscreenElement"in document?"MSFullscreenChange":"fullscreenchange")},Dt=0;window.addEventListener("click",e=>Dt=e.timeStamp);function te(e,t){return e.node.addEventListener(H[t]?H[t]():t,e,e.options),e}function ee(e,t){return e.node.removeEventListener(H[t]?H[t]():t,e),e}function Ft(e,t,i,o){this.types=e.split(_t),this.options=t,this.node=i,this.select=t&&t.select,this.initialEvent=o}Yt(Ft.prototype,{pipe:function(e){N(this,e),this.types.reduce(te,this),this.initialEvent&&(this.handleEvent(this.initialEvent),delete this.initialEvent)},handleEvent:function(e){if(!(e.type==="click"&&e.timeStamp<=Dt)){if(this.select){let t=e.target.closest(this.select);if(!t)return;e.selectedTarget=t}this[0].push(e)}},stop:function(){this.types.reduce(ee,this),C(this[0])}});function z(e,t,i){let o;return typeof e=="object"&&(o=e,e=o.type),new v(new Ft(e,o,t,i))}var ne=Object.assign,P={bubbles:!0,cancelable:!0};function ie(e,t){let i=P,o,r,s,l,u,p;return typeof e=="object"?({type:e,detail:r,bubbles:s,cancelable:l,composed:u,...o}=e,p=ne(new CustomEvent(e,{detail:r,bubbles:s||P.bubbles,cancelable:l||P.cancelable,composed:u||P.composed}),o)):p=new CustomEvent(e,P),t.dispatchEvent(p)}var V=w(ie,!0);function tt(e,t,i){let o;typeof i!="string"&&i.input!==void 0&&i.index!==void 0&&(o=i,i=o.input.slice(i.index+i[0].length+(i.consumed||0)));let r=e.exec(i);if(!r)return;let s=t(r);return o&&(o.consumed=(o.consumed||0)+r.index+r[0].length+(r.consumed||0)),s}var pn=w(tt,!0);function oe(e,t,i){throw i.input!==void 0&&i.index!==void 0&&(i=i.input),new Error('Cannot parse string "'+(i.length>128?i.length.slice(0,128)+"â€¦":i)+'"')}function re(e,t,i){let o=-1;for(;++o<i.length;)t=i[o]!==void 0&&e[o]?e[o](t,i):t;return e.done?e.done(t,i):e.close?e.close(t,i):t}function se(e,t,i,o){let r=tt(e,s=>re(t,i,s),o);return r===void 0?t.catch?t.catch(i,o):oe(e,t,o):r}var It=w(se,!0);var ae=Object.assign,O;function rt(e,t){let i=0;for(;t[--i]&&t[i]!==e;);for(t[i]=e,i=-1;e[++i]&&e[i]!==t;);e[i]=t}function G(e){let t=-1,i;for(;i=e[++t];)e[t]=void 0,i.invalidate(e)}function st(e,t){let i=0;for(;e[--i];)if(e[i]===t)return!0;return!1}var c=class e{static isSignal(t){return t instanceof e}static of(t){return new et(t)}static from(t,i){if(t.then){let o=e.of();return t.then(r=>o.value=r),o}if(t.pipe){let o=e.of();return t.pipe({push:r=>o.value=r}),o}return new nt(t,i)}static fromProperty(t,i){return new it(t,i)}static observe(t,i,o){return new ot(t,i,o)}static createPropertyDescriptor(t){let i=Symbol();return ae({},t,t.get?{get:function(){return(this[i]||(this[i]=e.from(t.get,this))).value},set:t.set&&function(o){t.set.call(this,o);let r=this[i];r&&G(r)}}:{get:function(){return(this[i]||(this[i]=e.of(t.value))).value},set:function(o){let r=this[i]||(this[i]=e.of(o));r.value=o},value:void 0,writable:void 0})}static define(t,i,o){return Object.defineProperty(t,i,e.createPropertyDescriptor(o))}static evaluate(t,i,o=t){let r=O;O=t;let s=i.apply(o);return O=r,s}static get evaluating(){return O}constructor(t){t&&(this.name=t)}valueOf(){return this.value}toString(){return this.value+""}toJSON(){return this.value}},et=class extends c{#t;constructor(t){super(),this.#t=t}get value(){return O&&rt(this,O),this.#t}set value(t){this.#t!==t&&(this.#t=t,G(this))}},nt=class extends c{#t;#e;#n;#i;constructor(t,i){super(),this.#t=t,this.#e=i}get value(){return O&&rt(this,O),this.#n?this.#i:(this.#i=c.evaluate(this,this.#t,this.#e),this.#n=!0,this.#i)}invalidate(t){if(!this.#n||t&&!st(this,t))return;this.#n=!1;let i=0;for(;this[--i];)this[i]=void 0;G(this)}},it=class extends c{#t;#e;constructor(t,i){super(t),this.object=i}evaluate(){return this.object[this.name]}get value(){return O&&rt(this,O),this.#t?this.#e:(this.#e=c.evaluate(this,this.evaluate,this),this.#t=!0,this.#e)}set value(t){if(this.#e===t)return;let{object:i,name:o}=this;i[o]=t,t=i[o],this.#e!==t&&(this.#e=t,G(this))}invalidate(t){if(!this.#t||t&&!st(this,t))return;this.#t=!1;let i=0;for(;this[--i];)this[i]=void 0;G(this)}},ue=Promise.resolve(),ot=class{#t;#e;constructor(t,i,o){this.#t=t,this.#e=i;let r=c.evaluate(this,this.#n);t.value!==o&&this.#e(r)}#n(){return this.#t.value}invalidate(t){if(this.status==="done"||t&&!st(this,t))return;let i=0;for(;this[--i];)this[i]=void 0;ue.then(()=>this.#e(c.evaluate(this,this.#n)))}stop(){return this.status==="done"?this:(this.status="done",this)}};var Lt=Object.assign,I=[];function le(e){let t=-1,i;for(;i=I[++t];)c.evaluate(i,i.render);I.length=0}function ce(e,t){let i=0;for(;e[--i];)if(e[i]===t)return!0}function M(e){this.render=e,c.evaluate(this,e)}Lt(M,{from:e=>new M(e)});Lt(M.prototype,{invalidate(e){if(e&&!ce(this,e)||I.indexOf(this)!==-1)return;let t=0;for(;this[--t];)this[t]=void 0;I.length||requestAnimationFrame(le),I.push(this)},stop(){let e=0,t;for(;t=this[--e];){let o=-1,r;for(;(r=t[++o])&&r!==this;);for(;r=t[++o];)t[o-1]=t[o];t[o]=void 0,this[e]=void 0}let i=I.indexOf(this);return i!==-1&&I.splice(i,1),this}});var At=Symbol("internals");function fe(e){var t;if(e.attachInternals){if(t=e.attachInternals(),t.setFormValue)return t}else t={shadowRoot:elem.shadowRoot};return t.polyfillInput=D("input",{type:"hidden",name:elem.name}),elem.appendChild(t.polyfillInput),t.setFormValue=function(i){this.input.value=i},t}function at(e,t,i){return t[At]=e.formAssociated?fe(t):{shadowRoot:i}}function b(e){return e[At]}function he(e,t,i){return i>t?t:i<e?e:i}var ut=w(he);function lt(e,t){e.remove&&e.remove(t);let i;for(;(i=e.indexOf(t))!==-1;)e.splice(i,1);return e}var Bn=w(lt,!0);var pe=Object.assign;function J(e,t){this.element=e,this.definitions=t,this.tokens=[]}pe(J.prototype,{contains:function(e){return this.tokens.includes(e)},add:function(){let e=arguments.length;for(;e--;){let t=arguments[e];this.tokens.includes(t)||(this.tokens.push(t),this.supports(t)&&this.definitions[t].enable(this.element))}},remove:function(){let e=arguments.length;for(;e--;){let t=arguments[e];this.tokens.includes(t)&&(lt(this.tokens,t),this.supports(t)&&this.definitions[t].disable(this.element))}},supports:function(e){return!!this.definitions&&!!this.definitions[e]}});var de=Array.prototype;function Ut(e,t){let i=e.tokens.slice(),o=de.slice.apply(t),r=i.length;for(;r--;)o.includes(i[r])&&i.splice(r,1);e.remove.apply(e,i),e.add.apply(e,o)}function Ct(e){let t=Symbol(e);return{attribute:function(i){let o=this[t]||(this[t]=c.of(i));o.value=i!==null},get:function(){return(this[t]||(this[t]=c.of(!1))).value},set:function(i){i?this.setAttribute(e,""):this.removeAttribute(e)},enumerable:!0}}function Mt(e,t=-1/0,i=1/0,o=ut(t,i,0)){let r=Symbol(e);return{attribute:function(s){this[e]=s},get:function(){return(this[r]||(this[r]=c.of(o))).value},set:function(s){let l=this[r]||(this[r]=c.of(s)),u=Number(s);if(Number.isNaN(u))throw new TypeError("Attempt to set "+typeof s+" on "+e+" property, expects a number");l.value=ut(t,i,u)},enumerable:!0}}function Tt(e,t){let i=Symbol(e);return{attribute:function(o){this[e]=o===null?"":o},get:function(){return(this[i]||(this[i]=c.of(""))).value},set:function(o){let r=this[i]||(this[i]=c.of(o));t&&!t.test(""+o)||(r.value=""+o)},enumerable:!0}}function Nt(e,t=U){let i=Symbol(e);return{attribute:function(o){Ut(this[e],value===null?"":value)},get:function(){return this[i]||(this[i]=new J(t))},set:function(o){this.setAttribute(e,o)},enumerable:!0}}var Pt=Object.defineProperties;var ct={},me={name:{set:function(e){return this.setAttribute("name",e)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return b(this).form}},labels:{get:function(){return b(this).labels}},validity:{get:function(){return b(this).validity}},validationMessage:{get:function(){return b(this).validationMessage}},willValidate:{get:function(){return b(this).willValidate}},checkValidity:{value:function(){return b(this).checkValidity()}},reportValidity:{value:function(){return b(this).reportValidity()}}},Gt=!1,ge=It(/^\s*<?([a-z][\w]*-[\w-]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is[=\s]*["']?([a-z][\w]*-[\w-]+)["']?>?\s*$/,{1:(e,t)=>({name:t[1]}),2:(e,t)=>({name:t[3],tag:t[2]}),catch:function(e,t){throw new SyntaxError(`dom element() â€“ name must be of the form 'element-name' or 'tag is="element-name"' (`+t+")")}},null),Rt={once:!0};function ve(e){return new Promise((t,i)=>{e.addEventListener("load",t,Rt),e.addEventListener("error",i,Rt)})}function we(e){if(ct[e])return ct[e];let t=document.createElement(e).constructor;if(t===HTMLUnknownElement)throw new Error("Cannot define customised built-in - constructor for <"+e+"> is HTMLUnknownElement");return ct[e]=t}function ye(e,t){if(e.hasOwnProperty(t)){let i=e[t];delete e[t],e[t]=i}return e}function $t(e,t){let i=e.attachShadow({mode:t.mode||"closed",delegatesFocus:t.focusable||!1});if(t.stylesheet){let o=D("link",{rel:"stylesheet",href:t.stylesheet});i.append(o)}return i}function be(e,t){return typeof t=="string"?t[0]==="#"?e.appendChild(document.getElementById(t.slice(1)).content.clone(!0)):e.innerHTML=t:e.appendChild(t.content.clone(!0)),e}var qt=h((e,t)=>typeof t,{object:h((e,t)=>t.type,{boolean:(e,t)=>Ct(e),number:(e,t)=>Mt(e,t.min,t.max,t.default),string:(e,t)=>Tt(e,t.pattern),tokens:(e,t)=>Nt(e,t.tokens),default:(e,t)=>t}),function:(e,t)=>({value:t}),string:(e,t)=>qt(e,{type:t}),default:(e,t)=>{throw new TypeError("element() does not accept property descriptor of type "+typeof t)}});function ft(e,t={},i={},o=""){let{name:r,tag:s}=ge(e),l=typeof s=="string"?we(s):HTMLElement,u=[],p={},y,x;for(y in i)x=qt(y,i[y]),x.attribute&&u.push(y),(x.set||x.get||"value"in x)&&(p[y]=x),i[y]=x;function d(){let a=Reflect.construct(l,arguments,d),m=t.mode||typeof t.shadow=="string"?$t(a,t):void 0;t.shadow&&be(m,t.shadow);let j=at(d,a,m),W=j.params=[m,j];if(s&&(Gt=!0),t.construct&&t.construct.apply(a,W),i&&Object.keys(i).reduce(ye,a),m){let L=m.querySelectorAll('link[rel="stylesheet"]');if(L.length){let T=D("style","*:not(slot), slot:not([name]) { display: none !important; }");m.prepend(T);let Be=Promise.all(Array.from(L,ve)).finally(()=>{T.remove(),t.load&&t.load.apply(this,j.params)})}}return a}return d.prototype=Object.create(l.prototype,p),i.value&&(d.formAssociated=!0,Pt(d.prototype,me),(t.enable||t.disable)&&(d.prototype.formDisabledCallback=function(a){let m=b(this);return a?t.disable&&t.disable.apply(this,m.params):t.enable&&t.enable.apply(this,m.params)}),t.reset&&(d.prototype.formResetCallback=function(){let a=b(this);return t.reset.apply(this,a.params)}),t.restore&&(d.prototype.formStateRestoreCallback=function(){let a=b(this),m=a.params;return t.restore.apply(this,a.params)})),u.length&&(d.observedAttributes=u,d.prototype.attributeChangedCallback=function(a,m,j){return i[a].attribute.call(this,j)}),t.connect&&(d.prototype.connectedCallback=function(){let a=b(this);t.connect.apply(this,a.params)}),t.disconnect&&(d.prototype.disconnectedCallback=function(){let a=b(this);t.disconnect.apply(this,a.params)}),window.console&&window.console.log("%c<"+(s?s+" is="+r:r)+">%c "+o,"color:#3a8ab0;font-weight:600;","color:#888888;font-weight:400;"),window.customElements.define(r,d,s&&{extends:s}),s&&!Gt&&document.querySelectorAll('[is="'+r+'"]').forEach(a=>{i&&Pt(a,i);let m=t.mode||t.shadow?$t(a,t):void 0,j=at(d,a,m);t.construct&&t.construct.call(a,m,j);let W=-1,L;for(;L=u[++W];){let T=a.attributes[L];T&&i[L].attribute.call(a,T.value)}t.connect&&t.connect.call(a,m,j)}),d}var ht=M.from;var xe=import.meta.url.replace(/js$/,"css"),Ee=(()=>{try{return window.self===window.top}catch{return!1}})();function Se(e){e.stop()}function ke(e,t){let i=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),o=URL.createObjectURL(i),r=document.createElement("a");r.href=o,r.download=e,r.hidden=!0,document.body.append(r),r.click(),setTimeout(()=>{URL.revokeObjectURL(o),r.remove()},1e3)}async function Oe(e,t,i){let r=await(await window.showSaveFilePicker({id:i,suggestedName:e})).createWritable();await r.write(JSON.stringify(t,null,2)),await r.close()}var Qn=ft("storage-select",{shadow:`
        <link rel="stylesheet" href="${xe}"/>

        <select name="setting">
            <option value selected disabled id="default-option">Settings</option>
            <hr id="marker"/>
            <hr/>
            <option value="$store">Store</option>
            <option value="$store-as">Store As</option>
            <option value="$delete">Delete</option>
            <hr/>
            <option value="$save-as">Save as</option>
        </select>

        <svg viewbox="0 0 24 24">
            <path d="M7,10 L17,10 L12,15 Z"/>
        </svg>

        <dialog>
            <form style="width: 320px; margin: 1.875rem auto;" method="dialog">
                <label>Save as</label>
                <input type="text" name="name" placeholder="Name" id="name" />
                <button name="cancel">Close</button>
                <button type="submit" name="save">Save</button>
            </form>
        </dialog>
    `,construct:function(e,t,i){let o=e.querySelector("select"),r=e.querySelector("dialog"),s=e.getElementById("marker");z("change",e).each($({'[name="setting"]':h(dt("value"),{"":f,$store:(l,u)=>{if(!this.value)return r.showModal();let p=this.prefix+this.value;localStorage.setItem(p,JSON.stringify(this.data)),l.value=p},"$store-as":(l,u)=>{r.showModal()},$delete:(l,u)=>{let p=this.prefix+this.value;localStorage.removeItem(p),l.querySelector('[value="'+p+'"]').remove(),this.value=l.value=""},"$save-as":async(l,u)=>{Ee&&window.showSaveFilePicker?Oe(this.value+".json",this.data,this.prefix):ke(this.value+".json",this.data)},default:(l,u)=>{let p=localStorage.getItem(l.value),y=JSON.parse(p);this.value=l.value.slice(this.prefix.length),this.data=y,V("change",this)}})})),z("click",e).each($({'[name="save"]':(l,u)=>{let y=e.getElementById("name").value;if(!y)throw new Error("Please give the setting a name");let x=this.prefix+y;localStorage.setItem(x,JSON.stringify(this.data)),o.querySelector('option[value="'+x+'"]')||s.after(D("option",{value:x,text:y})),o.value=x,this.value=y,r.close(),V("change",this)},'[name="close"]':(l,u)=>{r.close()}}))},connect:function(e,t,i){let o=e.querySelector("select"),r=e.getElementById("marker");t.renderers=[ht(()=>{let s=e.getElementById("default-option");s.textContent=this.title||"Storage"}),ht(()=>{let s=this.prefix,l=Object.keys(localStorage).filter(u=>u.startsWith(s)).map(u=>D("option",{value:u,text:u.slice(s.length)}));for(;r.nextElementSibling.matches("option");)r.nextElementSibling.remove();r.after.apply(r,l),this.value=o.value="",this.data={},V("change",this)})]},disconnect:function(e,t){t.renderers.forEach(Se)}},{title:{type:"string"},prefix:{type:"string",pattern:/^(?!$\/)/},value:{type:"string"},data:{value:{},enumerable:!0,writable:!0}},"stephen.band/form-elements/storage-select/");export{Qn as default};
//# sourceMappingURL=storage-select.js.map
