/* form-elements 
   0.0.4
   By Stephen Band
   Built 2023-03-20 15:39 */

var X=Object.getOwnPropertySymbols;var St=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var Y=(t,e)=>{var o={};for(var r in t)St.call(t,r)&&e.indexOf(r)<0&&(o[r]=t[r]);if(t!=null&&X)for(var r of X(t))e.indexOf(r)<0&&Tt.call(t,r)&&(o[r]=t[r]);return o};function k(t){return t}function E(t,e){return function(){let r=t.apply(this,arguments),i=e[r]||e.default;if(!i)throw new Error('overload() no handler for "'+r+'"');return i.apply(this,arguments)}}function H(t){var e=new Map;return function(r){if(e.has(r))return e.get(r);var i=t(r);return e.set(r,i),i}}var Mt=Array.prototype;function Ht(t,e){return typeof t=="function"?t.apply(null,e):t}function Z(t,e,o){o=o||t.length;var r=o===1?e?t:H(t):H(function(i){return Z(function(){var s=[i];return s.push.apply(s,arguments),t.apply(null,s)},e,o-1)});return function i(s){return arguments.length===0?i:arguments.length===1?r(s):arguments.length>=o?t.apply(null,arguments):Ht(r(s),Mt.slice.call(arguments,1))}}var f=Z;function A(){}var kt=E(k,{is:A,tag:A,data:function(t,e,o){Object.assign(e.dataset,o)},html:function(t,e,o){e.innerHTML=o},text:function(t,e,o){e.textContent=o},children:function(t,e,o){e.innerHTML="",e.append.apply(e,o)},points:T,cx:T,cy:T,r:T,transform:T,preserveAspectRatio:T,viewBox:T,default:function(t,e,o){t in e?e[t]=o:e.setAttribute(t,o)}});function T(t,e,o){e.setAttribute(t,o)}function Ct(t,e){for(var o=Object.keys(e),r=o.length;r--;)kt(o[r],t,e[o[r]]);return t}var F=f(Ct,!0);var R="http://www.w3.org/2000/svg",tt=document.createElement("template"),U=(t,e)=>e&&typeof e;function et(t,e){let o=document.createRange();return o.selectNode(t),o.createContextualFragment(e)}var d=E(U,{string:function(t,e){let o=document.createElementNS(R,t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElementNS(R,t);return typeof e.length=="number"?o.append.apply(o,e):F(o,e),o},default:t=>document.createElementNS(R,t)}),Ot=E(U,{string:function(t,e){let o=document.createElement(t);return o.innerHTML=e,o},object:function(t,e){let o=document.createElement(t);return typeof e.length=="number"?o.append.apply(o,e):F(o,e),o},default:t=>document.createElement(t)}),Pt=E(k,{comment:function(t,e){return document.createComment(e||"")},fragment:E(U,{string:function(t,e,o){return o?et(o,e):(tt.innerHTML=e,tt.content.cloneNode(!0))},object:function(t,e,o){let r=o?et(o):document.createDocumentFragment();return typeof e.length=="number"?r.append.apply(r,e):F(r,e),r},default:()=>document.createDocumentFragment()}),text:function(t,e){return document.createTextNode(e||"")},circle:d,ellipse:d,g:d,glyph:d,image:d,line:d,rect:d,use:d,path:d,pattern:d,polygon:d,polyline:d,svg:d,default:Ot}),x=Pt;function I(t,e,o){let r;typeof o!="string"&&o.input!==void 0&&o.index!==void 0&&(r=o,o=r.input.slice(o.index+o[0].length+(o.consumed||0)));let i=t.exec(o);if(!i)return;let s=e(i);return r&&(r.consumed=(r.consumed||0)+i.index+i[0].length+(i.consumed||0)),s}var ye=f(I,!0);function At(t,e,o){throw o.input!==void 0&&o.index!==void 0&&(o=o.input),new Error('Cannot parse string "'+(o.length>128?o.length.slice(0,128)+"…":o)+'"')}function Ft(t,e,o){let r=-1;for(;++r<o.length;)e=o[r]!==void 0&&t[r]?t[r](e,o):e;return t.done?t.done(e,o):t.close?t.close(e,o):e}function Dt(t,e,o,r){let i=I(t,s=>Ft(e,o,s),r);return i===void 0?e.catch?e.catch(o,r):At(t,e,r):i}var nt=f(Dt,!0);var m=Symbol("internals"),M=Symbol("shadow"),ot=Object.defineProperties,Bt={a:HTMLAnchorElement,article:HTMLElement,dl:HTMLDListElement,p:HTMLParagraphElement,br:HTMLBRElement,fieldset:HTMLFieldSetElement,hr:HTMLHRElement,img:HTMLImageElement,li:HTMLLIElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,q:HTMLQuoteElement,section:HTMLElement,textarea:HTMLTextAreaElement,td:HTMLTableCellElement,th:HTMLTableCellElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,thead:HTMLTableSectionElement,tfoot:HTMLTableSectionElement,ul:HTMLUListElement},jt={name:{set:function(t){return this.setAttribute("name",t)},get:function(){return this.getAttribute("name")||""}},form:{get:function(){return this[m].form}},labels:{get:function(){return this[m].labels}},validity:{get:function(){return this[m].validity}},validationMessage:{get:function(){return this[m].validationMessage}},willValidate:{get:function(){return this[m].willValidate}},checkValidity:{value:function(){return this[m].checkValidity()}},reportValidity:{value:function(){return this[m].reportValidity()}}},Gt={},rt={once:!0},it=0,st=!1;function Rt(t){return Bt[t]||window["HTML"+t[0].toUpperCase()+t.slice(1)+"Element"]||(()=>{throw new Error('Constructor not found for tag "'+t+'"')})()}var Ut=nt(/^\s*<?([a-z][\w]*-[\w-]+)>?\s*$|^\s*<?([a-z][\w]*)\s+is[=\s]*["']?([a-z][\w]*-[\w]+)["']?>?\s*$/,{1:(t,e)=>({name:e[1]}),2:(t,e)=>({name:e[3],tag:e[2]}),catch:function(t,e){throw new SyntaxError(`dom element() – name must be of the form 'element-name' or 'tag is="element-name"' (`+e+")")}},null);function It(t,e){if(t.hasOwnProperty(e)){let o=t[e];delete t[e],t[e]=o}return t}function ut(t,e,o){t._initialLoad=!0;let r=t.attachShadow({mode:e.mode||"closed",delegatesFocus:e.focusable||!1});if(o){let i=x("link",{rel:"stylesheet",href:o});r.append(i)}return t[M]=r,r}function Vt(t){var e;if(t.attachInternals){if(e=t.attachInternals(),e.setFormValue)return e}else e={shadowRoot:t.shadowRoot};return e.input=x("input",{type:"hidden",name:t.name}),t.appendChild(e.input),e.setFormValue=function(o){this.input.value=o},e}function Nt(t){return!!t.attribute}function qt(t){return t.set||t.get||t.hasOwnProperty("value")}function zt(t,e){return Nt(e[1])&&(t.attributes[e[0]]=e[1].attribute),qt(e[1])&&(t.properties[e[0]]=e[1]),t}function V(t,e,o,r,i=""){let{name:s,tag:u}=Ut(t),l=typeof u=="string"?Rt(u):HTMLElement,{attributes:c,properties:h}=o?Object.entries(o).reduce(zt,{attributes:{},properties:{}}):Gt;function p(){let a=Reflect.construct(l,arguments,p),b=e.construct&&e.construct.length>it?ut(a,e,r||e.stylesheet):void 0,w=p.formAssociated?Vt(a):{};return u&&(st=!0),e.construct&&e.construct.call(a,b,w),h&&Object.keys(h).reduce(It,a),a}return p.prototype=Object.create(l.prototype,h),h.value&&(p.formAssociated=!0,ot(p.prototype,jt),(e.enable||e.disable)&&(p.prototype.formDisabledCallback=function(a){return a?e.disable&&e.disable.call(this,this[M],this[m]):e.enable&&e.enable.call(this,this[M],this[m])}),e.reset&&(p.prototype.formResetCallback=function(){return e.reset.call(this,this[M],this[m])}),e.restore&&(p.prototype.formStateRestoreCallback=function(){return e.restore.call(this,this[M],this[m])})),c&&(p.observedAttributes=Object.keys(c),p.prototype.attributeChangedCallback=function(a,b,w){return c[a].call(this,w)}),p.prototype.connectedCallback=function(){let a=this,b=a[M],w=a[m];if(a._initialLoad){let v=b.querySelectorAll('link[rel="stylesheet"]');if(v.length){let Et=0,G=v.length,W=function(ee){++Et>=v.length&&(delete a._initialLoad,e.load&&e.load.call(a,b))},xt=W;for(;G--;)v[G].addEventListener("load",W,rt),v[G].addEventListener("error",xt,rt)}else e.load&&Promise.resolve(1).then(()=>e.load.call(this,b,w))}e.connect&&e.connect.call(this,b,w)},e.disconnect&&(p.prototype.disconnectedCallback=function(){return e.disconnect.call(this,this[M],this[m])}),window.console&&window.console.log("%c<"+(u?u+" is="+s:s)+">%c "+i,"color: #3a8ab0; font-weight: 600;","color: #888888; font-weight: 400;"),window.customElements.define(s,p,u&&{extends:u}),u&&!st&&document.querySelectorAll('[is="'+s+'"]').forEach(a=>{h&&ot(a,h);let b=e.construct&&e.construct.length>it?ut(a,e,r||e.stylesheet):void 0;e.construct&&e.construct.call(a,b);let w;for(w in c){let v=a.attributes[w];v&&c[w].call(a,v.value)}e.connect&&e.connect.apply(a)}),p}var N=Symbol("privates");function D(t){return t[N]||Object.defineProperty(t,N,{value:{}})[N]}function q(t,e,o){return o>e?e:o<t?t:o}var Ce=f(q);function $t(t,e){return e[t]}var Ae=f($t,!0);function z(t){if(typeof t!="object"||arguments.length>1)throw new Error("delegate() now takes an object of selector:fn pairs.");return function(o){let r=o.target,i;for(i in t){let s=r.closest(i);if(s)return t[i](s,...arguments)}}}function at(t,e){t.remove&&t.remove(e);let o;for(;(o=t.indexOf(e))!==-1;)t.splice(o,1);return t}var je=f(at,!0);function $(t){return t&&t[Symbol.iterator]}var _t=Object.assign;function Kt(t){return t.stop?t.stop():t()}function C(){}_t(C.prototype,{stop:function(){let t=this.stopables;return this.stopables=void 0,t&&t.forEach(Kt),this},done:function(t){return(this.stopables||(this.stopables=[])).push(t),this}});var y=Object.assign,S=Object.create;function ct(t,e){t[0]=e,e.done(t)}function L(t,e){t&&t.push(e)}function K(t){C.prototype.stop.apply(t);let e=-1,o;for(;o=t[++e];)t[e]=void 0,o.stop()}function g(t){this.input=t}y(g.prototype,C.prototype,{push:function(t){L(this[0],t)},pipe:function(t){if(this[0])throw new Error("Stream: Attempt to .pipe() a unicast stream multiple times. Create a multicast stream with .broadcast().");return this[0]=t,t.done(this),this.input.pipe(this),t},map:function(t){return new lt(this,t)},filter:function(t){return new pt(this,t)},split:function(t){return new ht(this,t)},flatMap:function(t){return new ft(this,t)},slice:function(t,e){return new _(this,t,e)},take:function(t){return console.warn(".take(a) superseded by .slice(0, a)"),new _(this,0,t)},each:function(t){return this.pipe(new gt(t))},reduce:function(t,e){return this.pipe(new dt(t,e)).value},scan:function(t,e){return new mt(this,t,e)},stop:function(){return K(this),this}});function lt(t,e){this.input=t,this.fn=e}lt.prototype=y(S(g.prototype),{push:function(e){let r=this.fn(e);r!==void 0&&L(this[0],r)}});function pt(t,e){this.input=t,this.fn=e}pt.prototype=y(S(g.prototype),{push:function(e){this.fn(e)&&L(this[0],e)}});function ft(t,e){this.input=t,this.fn=e}ft.prototype=y(S(g.prototype),{push:function(e){let r=this.fn(e);if(r!==void 0)if($(r))for(let i of r)L(this[0],i);else r.pipe&&this.done(r.each(i=>L(this[0],i)))}});function ht(t,e){this.input=t,this.chunk=[],typeof n=="number"?this.n=e:this.fn=e}ht.prototype=y(S(g.prototype),{fn:function(){return this.chunk.length===this.n},push:function(e){let o=this.chunk;this.fn(e)?(L(this[0],o),this.chunk=[]):o.push(e)}});function _(t,e,o=1/0){this.input=t,this.index=-e,this.indexEnd=e+o}_.prototype=y(S(g.prototype),{push:function(e){++this.index>0&&this[0].push(e),this.index===this.indexEnd&&this.stop()}});function dt(t,e){this.fn=t,this.value=e,this.i=0}dt.prototype=y(S(g.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t,this.i++,this)}});function mt(t,e,o){this.input=t,this.fn=e,this.value=o}mt.prototype=y(S(g.prototype),{push:function(t){let e=this.fn;this.value=e(this.value,t),this[0].push(this.value)}});function gt(t){this.push=t}gt.prototype=y(S(g.prototype),{each:null,reduce:null,pipe:null});var Qt=Object.assign,Jt=/\s+/,B={fullscreenchange:H(()=>"fullscreenElement"in document?"fullscreenchange":"webkitFullscreenElement"in document?"webkitfullscreenchange":"mozFullScreenElement"in document?"mozfullscreenchange":"msFullscreenElement"in document?"MSFullscreenChange":"fullscreenchange")},wt=0;window.addEventListener("click",t=>wt=t.timeStamp);function Wt(t,e){return t.node.addEventListener(B[e]?B[e]():e,t,t.options),t}function Xt(t,e){return t.node.removeEventListener(B[e]?B[e]():e,t),t}function bt(t,e,o){this.types=t.split(Jt),this.options=e,this.node=o,this.select=e&&e.select}Qt(bt.prototype,{pipe:function(t){ct(this,t),this.types.reduce(Wt,this)},handleEvent:function(t){if(!(t.type==="click"&&t.timeStamp<=wt)){if(this.select){let e=t.target.closest(this.select);if(!e)return;t.selectedTarget=e}L(this[0],t)}},stop:function(){this.types.reduce(Xt,this),K(this[0])}});function O(t,e){let o;return typeof t=="object"&&(o=t,t=o.type),new g(new bt(t,o,e))}function Q(t){return t.which===1&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}var Yt=Object.assign,P={bubbles:!0,cancelable:!0};function Zt(t,e){var h;let o=P,r,i,s,u,l,c;return typeof t=="object"?(h=t,{type:t,detail:i,bubbles:s,cancelable:u,composed:l}=h,r=Y(h,["type","detail","bubbles","cancelable","composed"]),c=Yt(new CustomEvent(t,{detail:i,bubbles:s||P.bubbles,cancelable:u||P.cancelable,composed:l||P.composed}),r)):c=new CustomEvent(t,P),e.dispatchEvent(c)}var J=f(Zt,!0);var yt={37:-1,38:1,39:1,40:-1};function j(t,e,o,r,i){let s=r.selectedOptions[0],u=Array.from(r.querySelectorAll("option")),l=u.indexOf(s),c=q(0,u.length-1,l+i),h=u[c];h!==s&&(r.value=h.value,J("select",r),J("change",r))}var vt={mode:"closed",construct:function(t,e){let o=x("style",":host > * { visibility: hidden; }"),r=x("slot"),i=x("button",{type:"button",part:"previous-button",name:"increment",value:"-1",html:'<slot name="previous-button">◀</slot>'}),s=x("button",{type:"button",part:"next-button",name:"increment",value:"1",html:'<slot name="next-button">▶</slot>'});t.append(o,r,i,s);let u=D(this);u.childStyle=o.sheet.cssRules[0].style,O("slotchange",r).each(l=>u.select=this.querySelector("select")),O("pointerdown",t).filter(Q).each(z({'[type="button"]':(l,c)=>j(this,e,c,u.select,parseFloat(l.value)),'[slot="previous-button"]':(l,c)=>j(this,e,c,u.select,-1),'[slot="next-button"]':(l,c)=>j(this,e,c,u.select,1)})),O("keydown",this).filter(()=>document.activeElement===this||document.activeElement===u.select||this.contains(document.activeElement)).each(l=>yt[l.keyCode]&&j(this,e,l,u.select,yt[l.keyCode]))},load:function(t){let e=D(this);e.childStyle.visibility=""}};var te=window.selectControlStylesheet||import.meta.url.replace(/\/[^\/]*([?#].*)?$/,"/")+"select-control-shadow.css",hn=V("<select-control>",vt,{},te);export{hn as default};
