<!DOCTYPE html>
<!-- Literal template "/Users/stephband/Sites/form-elements/xy-input/index.html.literal" -->

<html lang="en">
<head>
    <meta charset="utf-8" />
<meta name="author" content="Stephen Band" />
<meta name="description" content="Documentation for form-elements. A collection of advanced form controls published as custom elements" />
<meta name="viewport" content="width=device-width" />


<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@stephband">
<meta property="og:title" content="form-elements" />
<meta property="og:description" content="A collection of advanced form controls published as custom elements" />
<meta property="og:image" content="https://stephen.band/form-elements/card.png" />
<meta property="og:url" content="https://stephen.band/form-elements/" />


<title>form-elements</title>



<script title="load">
    document.documentElement.className += ' js loading';
    // window.addEventListener('DOMContentLoaded', () => document.documentElement.classList.remove('content-loading'));
    // Wait for other load handlers to run first - Bolt does a few things on
    // load (eg. targetable scrolls) and we want them to run before the loading
    // class is removed
    window.addEventListener('load', () => window.requestAnimationFrame(() => document.documentElement.classList.remove('loading')));
</script>


    <script title="debug">
        window.DEBUG = true;
        window.xyInputStylesheet = '../xy-input-shadow.css';
    </script>

    <link rel="stylesheet" href="../../bolt/module.css">
    <link rel="stylesheet" href="../../bolt/documentation/prism-cruncher.css" />
<link rel="stylesheet" href="../../bolt/documentation.css" />
<link rel="stylesheet" href="../../bolt/debug.css" />

</head>

<body class="docs-grid grid 3x-grid @1-6x-grid @2-9x-grid">
    
<header class="x1 3x @1-x3 @1-4x @2-x4">
    
    <h2 class="docs-text-02">&lt;xy-input&gt;</h2>
    <p>Import <code>&lt;xy-input&gt;</code> custom element. This also registers the custom
element and upgrades instances already in the DOM.</p>
<pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./module.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">xy-input</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 10rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xy-input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0, 0.2 0.4 step 0.4 1.5 exponential 0.6 1 linear 0.8 0 target 0.4<span class="token punctuation">"</span></span> <span class="token attr-name">ymin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-0.5<span class="token punctuation">"</span></span> <span class="token attr-name">ymax</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span> <span class="token attr-name">yticks</span> <span class="token attr-name">xmin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">xmax</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.4<span class="token punctuation">"</span></span> <span class="token attr-name">xticks</span><span class="token punctuation">></span></span>Envelope<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xy-input</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--xy-input name="points" value="100 0dB one 200 6dB two 2000 -6dB three" ymin="-18dB" ymax="18dB" xmin="20" xmax="20000" xlaw="logarithmic-96dB" ylaw="logarithmic-48dB" xaxis="Hz" yaxis="dB">&lt;/xy-input--></span></code></pre>

    
</header>

<form class="x1 3x @1-x1 @1-2x @2-x1 @2-3x x-stretch y-start">
    <script type="module" src="../../bolt/templates/module.js"></script>

<style>
    xy-input {
        width: 100%;
        height: 10rem;
    }
</style>

<xy-input value="0 0, 0.2 0.4 step 0.4 1.5 exponential 0.6 1 linear 0.8 0 target 0.4" ymin="-0.5" ymax="2" yticks xmin="0" xmax="1.4" xticks>Envelope</xy-input>
<!--xy-input name="points" value="100 0dB one 200 6dB two 2000 -6dB three" ymin="-18dB" ymax="18dB" xmin="20" xmax="20000" xlaw="logarithmic-96dB" ylaw="logarithmic-48dB" xaxis="Hz" yaxis="dB"></xy-input-->
    <!-- for testing form submission values -->
    <input hidden class="button" type="submit" />
</form>

<div class="x1 3x @1-x3 @1-2x @2-x4 x-stretch y-start">
    
    <h3 class="docs-text-03">Attributes</h3>
    
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xmin">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xmin">
        <code class="token language-html">xmin <span class="default">="<em>0</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xmax">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xmax">
        <code class="token language-html">xmax <span class="default">="<em>1</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ymin">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-ymin">
        <code class="token language-html">ymin <span class="default">="<em>0</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ymax">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-ymax">
        <code class="token language-html">ymax <span class="default">="<em>1</em>"</span></code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xscale">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xscale">
        <code class="token language-html">xscale <span class="default">="<em>linear</em>"</span></code>
    </a>
</h3>

<p>Scale on the x axis. This is the name of a transform to be applied over the
x range of the fader travel. Possible values are:</p>
<ul>
<li><code>&quot;linear&quot;</code></li>
<li><code>&quot;pow-2&quot;</code></li>
<li><code>&quot;pow-3&quot;</code></li>
<li><code>&quot;pow-4&quot;</code></li>
<li><code>&quot;log&quot;</code></li>
<li><code>&quot;log-24dB&quot;</code></li>
<li><code>&quot;log-48dB&quot;</code></li>
<li><code>&quot;log-60dB&quot;</code></li>
<li><code>&quot;log-96dB&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-yscale">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-yscale">
        <code class="token language-html">yscale <span class="default">="<em>linear</em>"</span></code>
    </a>
</h3>

<p>Scale on the y axis. This is the name of a transform to be applied over the
y range of the fader travel. Possible values are:</p>
<ul>
<li><code>&quot;linear&quot;</code></li>
<li><code>&quot;pow-2&quot;</code></li>
<li><code>&quot;pow-3&quot;</code></li>
<li><code>&quot;pow-4&quot;</code></li>
<li><code>&quot;log&quot;</code></li>
<li><code>&quot;log-24dB&quot;</code></li>
<li><code>&quot;log-48dB&quot;</code></li>
<li><code>&quot;log-60dB&quot;</code></li>
<li><code>&quot;log-96dB&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xticks">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xticks">
        <code class="token language-html">xticks</code>
    </a>
</h3>

<p>A space or comma separated list of values at which to display tick marks.
Values may be listed with or without units, eg:</p>
<pre><code class="language-html">xticks=&quot;0 0.2 0.4 0.6 0.8 1&quot;
xticks=&quot;-48dB -36dB -24dB -12dB 0dB&quot;</code></pre>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-yticks">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-yticks">
        <code class="token language-html">yticks</code>
    </a>
</h3>

<p>A space or comma separated list of values at which to display tick marks.
Values may be listed with or without units, eg:</p>
<pre><code class="language-html">yticks=&quot;0 0.2 0.4 0.6 0.8 1&quot;
yticks=&quot;-48dB -36dB -24dB -12dB 0dB&quot;</code></pre>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xstep">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xstep">
        <code class="token language-html">xstep</code>
    </a>
</h3>

<p>Step is either:</p>
<ul>
<li>The string <code>&quot;any&quot;</code> (the default value)</li>
<li>The string <code>&quot;tick&quot;</code>. The values in the <code>ticks</code> attribute are used as step values</li>
<li>A space or comma separated list of values, written with or without units</li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ystep">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-ystep">
        <code class="token language-html">ystep</code>
    </a>
</h3>

<p>Step is either:</p>
<ul>
<li>The string <code>&quot;any&quot;</code> (the default value)</li>
<li>The string <code>&quot;tick&quot;</code>. The values in the <code>ticks</code> attribute are used as step values</li>
<li>A space or comma separated list of values, written with or without units</li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-xdisplay">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-xdisplay">
        <code class="token language-html">xdisplay</code>
    </a>
</h3>

<p>The units to display the value in. The output value and all ticks are
displayed in this unit. Possible values are:</p>
<ul>
<li><code>&quot;dB&quot;</code> – <code>0-1</code> is displayed as <code>-∞dB</code> to <code>0dB</code></li>
<li><code>&quot;Hz&quot;</code></li>
<li><code>&quot;bpm&quot;</code></li>
<li><code>&quot;s&quot;</code></li>
<li><code>&quot;semitone&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ydisplay">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-ydisplay">
        <code class="token language-html">ydisplay</code>
    </a>
</h3>

<p>The units to display the value in. The output value and all ticks are
displayed in this unit. Possible values are:</p>
<ul>
<li><code>&quot;dB&quot;</code> – <code>0-1</code> is displayed as <code>-∞dB</code> to <code>0dB</code></li>
<li><code>&quot;Hz&quot;</code></li>
<li><code>&quot;bpm&quot;</code></li>
<li><code>&quot;s&quot;</code></li>
<li><code>&quot;semitone&quot;</code></li>
</ul>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-valuebox">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-valuebox">
        <code class="token language-html">valuebox</code>
    </a>
</h3>

<p>Defines an <code>&quot;x y width height&quot;</code> box to use as the range of values that
map to the padding box of the <code>&lt;xy-input&gt;</code>. The origin is at the
bottom and y increases upwards.</p>
<p>Where not given, <code>valuebox</code> defaults to the limits of <code>min</code> and <code>max</code>.
Most often this is what you want, and the valuebox attribute is safe to
ignore.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-ordered">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-ordered">
        <code class="token language-html">ordered</code>
    </a>
</h3>

<p>Boolean attribute. When set, data points may not overlap their
neighbours, keeping the order of points on the x axis constant.</p>

</div>

 
<div class="attribute-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="attribute-value-2">
<h3 class="attribute-docs-text-05 docs-text-05">
    <a href="#attribute-value-2">
        <code class="token language-html">value <span class="default">="<em>0 0</em>"</span></code>
    </a>
</h3>

<p>The initial value of the element. This is a series of space or comma
separated <code>x, y</code> values such as:</p>
<pre><code>value<span class="token operator">=</span><span class="token string">"0,0 1,0.5 2,0"</span></code></pre><p>Values may also be given an optional label.</p>
<pre><code>value<span class="token operator">=</span><span class="token string">"0,0 First 1,0 Second 2,0 Last"</span></code></pre><p>An <code>&lt;xy-input&gt;</code> supports WebAudio automation data. Labels must be one of
the types <code>&#39;step&#39;</code>, <code>&#39;linear&#39;</code>, <code>&#39;exponential&#39;</code> or <code>&#39;target&#39;</code>. The type
<code>&#39;target&#39;</code> must be followed by a fourth parameter duration:</p>
<pre><code>value<span class="token operator">=</span><span class="token string">"0,0 step 1,0 linear 2,0 target 0.2"</span></code></pre>
</div>

 

    
    
    

    
    <h3 class="docs-text-03">Properties</h3>
    
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-xmin">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-xmin">
        <code class="property language-js">.xmin</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-xmax">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-xmax">
        <code class="property language-js">.xmax</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-ymin">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-ymin">
        <code class="property language-js">.ymin</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-ymax">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-ymax">
        <code class="property language-js">.ymax</code>
    </a>
</h3>

<p>Value at upper limit of fader. Can interpret string values with recognised
units, eg. <code>&quot;0dB&quot;</code> or <code>&quot;200Hz&quot;</code>, or numbers.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-value-2">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-value-2">
        <code class="property language-js">.value</code>
    </a>
</h3>

<p>The value of the element. Returns an array of objects representing each
point in the input. The array is a live object. Objects mutate in response
to handles being moved, and handles are moved if the objects are mutated.</p>
<p>When submitted as part of a form the array is serialised to a formdata
parameters.</p>

</div>

 
<div class="property-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="property|selector-data">
<h3 class="property-docs-text-05 docs-text-05">
    <a href="#property|selector-data">
        <code class="property language-js">.data</code>
    </a>
</h3>

<p>The value of the element. Returns a live array of objects representing
each value in the input. Objects mutate in response to handles being moved,
and handles are moved when the object <code>x</code> and <code>y</code> values are mutated.</p>

</div>

 
    
    
    <h3 class="docs-text-03">Events</h3>
    
<div class="string-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="string-input">
<h3 class="string-docs-text-05 docs-text-05">
    <a href="#string-input">
        <code class=" language-js">"input"</code>
    </a>
</h3>

<p>Emitted from the element during the movement of an xy handle.</p>

</div>

 
<div class="string-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="string-change">
<h3 class="string-docs-text-05 docs-text-05">
    <a href="#string-change">
        <code class=" language-js">"change"</code>
    </a>
</h3>

<p>Emitted from the element when an xy handle has been moved.</p>

</div>

 
</div>

<div class="x1 3x @1-x5 @1-2x @2-x6 x-stretch y-start">
    
    
    

    
    <h3 class="docs-text-03">Variables</h3>
    
<div class="var-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="var-line-color">
<h3 class="var-docs-text-05 docs-text-05">
    <a href="#var-line-color">
        <code class=" language-css">--line-color</code>
    </a>
</h3>

<p>Colour of axis lines drawn on the graph background.</p>

</div>

 
<div class="var-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="var-line-color-x">
<h3 class="var-docs-text-05 docs-text-05">
    <a href="#var-line-color-x">
        <code class=" language-css">--line-color-x</code>
    </a>
</h3>

<p>Colour of vertical x-axis lines drawn on the graph background.</p>

</div>

 
<div class="var-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="var-line-color-y">
<h3 class="var-docs-text-05 docs-text-05">
    <a href="#var-line-color-y">
        <code class=" language-css">--line-color-y</code>
    </a>
</h3>

<p>Colour of horizontal y-axis lines drawn on the graph background.</p>

</div>

 
<div class="var-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="var-envelope-color">
<h3 class="var-docs-text-05 docs-text-05">
    <a href="#var-envelope-color">
        <code class=" language-css">--envelope-color</code>
    </a>
</h3>

<p>Colour of envelope plot. The envelope is rendered in WebAudio, and is
an accurate reflection of a WebAudio automation curve.</p>

</div>

 
<div class="var-doc-toggle-block doc-toggle-block toggle-block block" data-toggleable id="var-crosshair-color">
<h3 class="var-docs-text-05 docs-text-05">
    <a href="#var-crosshair-color">
        <code class=" language-css">--crosshair-color</code>
    </a>
</h3>

<p>Colour of crosshairs. Defaults to <code>none</code>.</p>

</div>

 
</div>


    <script type="module">
    import '../../bolt/module.js';
    import '../../bolt/documentation.js';
</script>

    <script type="module">
    import XYInput from './module.js';
    //import XYInput from '../xy-input.js';
    import events  from '../../dom/modules/events.js';

    events('input change', document)
    .each((e) => console.log(e.type, e.target.value));
    </script>
</body>
